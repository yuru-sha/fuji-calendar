# Scripts Directory Structure - Essential Scripts Only

æœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€æœ¬ç•ªé‹ç”¨ãƒ»é–‹ç™ºãƒ»ä¿å®ˆã«**å¿…è¦ä¸å¯æ¬ **ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã¿ã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚

## Directory Structure

### ğŸ“Š analysis/ (1ãƒ•ã‚¡ã‚¤ãƒ«)
è¨ˆç®—ç²¾åº¦æ¤œè¨¼ãƒ»åˆ†æç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `verify-gemini-elevation-calculation.js` - **Geminié«˜ç²¾åº¦ä»°è§’è¨ˆç®—æ¤œè¨¼** (åœ°çƒæ›²ç‡è£œæ­£ãƒ»å¤§æ°—å±ˆæŠ˜è£œæ­£ã®ç²¾åº¦ç¢ºèª)

### ğŸ”§ config/ (4ãƒ•ã‚¡ã‚¤ãƒ«)
ç’°å¢ƒè¨­å®šãƒ»ã‚¤ãƒ³ãƒ•ãƒ©ç”¨ãƒ•ã‚¡ã‚¤ãƒ«
- `docker-dev.sh` - é–‹ç™ºç’°å¢ƒDockerèµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `docker-prod.sh` - æœ¬ç•ªç’°å¢ƒDockerèµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ  
- `locations_2025-07-20.json` - **åœ°ç‚¹ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿** (æ’®å½±åœ°ç‚¹ã®åº§æ¨™ãƒ»æƒ…å ±)
- `logrotate.conf` - æœ¬ç•ªç’°å¢ƒãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š

### ğŸ­ generation/ (5ãƒ•ã‚¡ã‚¤ãƒ«)
ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ»è¨ˆç®—å®Ÿè¡Œç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `generate-diamond-fuji-enhanced-precision.js` - **é«˜ç²¾åº¦ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰å¯Œå£«ç”Ÿæˆ** (Geminiè¨ˆç®—å¼çµ±åˆç‰ˆ)
- `generate-diamond-fuji-events-prisma.js` - **Prismaç‰ˆãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰å¯Œå£«ã‚¤ãƒ™ãƒ³ãƒˆç”Ÿæˆ** (æœ¬ç•ªDBå¯¾å¿œ)
- `generate-initial-data.js` - **ã‚·ã‚¹ãƒ†ãƒ åˆæœŸãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ** (ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç”¨)
- `generate-location-fuji-events.js` - ç‰¹å®šåœ°ç‚¹ã‚¤ãƒ™ãƒ³ãƒˆç”Ÿæˆ
- `generate-pearl-fuji-events.js` - **ãƒ‘ãƒ¼ãƒ«å¯Œå£«ã‚¤ãƒ™ãƒ³ãƒˆç”Ÿæˆ**

### ğŸ—„ï¸ migration/ (3ãƒ•ã‚¡ã‚¤ãƒ«)
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œãƒ»åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç”¨
- `create-admin.js` - **ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ**
- `create-admin.sql` - ç®¡ç†è€…ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆSQL
- `insert-locations.sql` - **åœ°ç‚¹ãƒ‡ãƒ¼ã‚¿DBæŒ¿å…¥SQL**

### ğŸ§ª testing/ (3ãƒ•ã‚¡ã‚¤ãƒ«)
ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèªãƒ»ãƒ†ã‚¹ãƒˆç”¨
- `check-progress.js` - **ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆé€²æ—ç¢ºèª** (é•·æ™‚é–“å‡¦ç†ã®ç›£è¦–)
- `test-postgres-connection.js` - **PostgreSQLæ¥ç¶šãƒ†ã‚¹ãƒˆ** (DBç–é€šç¢ºèª)
- `test-prisma-system.js` - **Prismaã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ** (ORMå‹•ä½œç¢ºèª)

### ğŸ› ï¸ utilities/ (3ãƒ•ã‚¡ã‚¤ãƒ«)
é‹ç”¨ãƒ»ä¿å®ˆç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
- `load-test.js` - **è² è·ãƒ†ã‚¹ãƒˆ** (ã‚µãƒ¼ãƒãƒ¼æ€§èƒ½ç¢ºèª)
- `performance-analysis.js` - **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ** (è¨ˆç®—æ€§èƒ½æ¸¬å®š)
- `resume-data-generation.js` - **ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆå†é–‹** (ä¸­æ–­å‡¦ç†ã®å¾©æ—§)

## ä½¿ç”¨æ–¹æ³•

### ã‚·ã‚¹ãƒ†ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# 1. ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
node src/scripts/migration/create-admin.js

# 2. åˆæœŸãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
node src/scripts/generation/generate-initial-data.js

# 3. ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèª
node src/scripts/testing/test-postgres-connection.js
node src/scripts/testing/test-prisma-system.js
```

### ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ»æ›´æ–°
```bash
# é«˜ç²¾åº¦ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰å¯Œå£«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
node src/scripts/generation/generate-diamond-fuji-enhanced-precision.js

# ãƒ‘ãƒ¼ãƒ«å¯Œå£«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
node src/scripts/generation/generate-pearl-fuji-events.js

# é€²æ—ç¢ºèª
node src/scripts/testing/check-progress.js
```

### è¨ˆç®—ç²¾åº¦æ¤œè¨¼
```bash
# Geminiè¨ˆç®—å¼ã®ç²¾åº¦ç¢ºèª
node src/scripts/analysis/verify-gemini-elevation-calculation.js
```

### é‹ç”¨ãƒ»ä¿å®ˆ
```bash
# è² è·ãƒ†ã‚¹ãƒˆ
node src/scripts/utilities/load-test.js

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
node src/scripts/utilities/performance-analysis.js
```

## é‡è¦ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### ğŸŒŸ ã‚³ã‚¢ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- **`generate-diamond-fuji-enhanced-precision.js`**: Geminiã®åœ°çƒæ›²ç‡è£œæ­£å¼ã‚’çµ±åˆã—ãŸæœ€é«˜ç²¾åº¦ã®ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰å¯Œå£«è¨ˆç®—
- **`generate-diamond-fuji-events-prisma.js`**: Prisma ORMã‚’ä½¿ç”¨ã—ãŸæœ¬ç•ªDBå¯¾å¿œç‰ˆ

### ğŸ” ç²¾åº¦æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ  
- **`verify-gemini-elevation-calculation.js`**: ç†è«–å€¤ vs å®Ÿæ¸¬å€¤ã®ç²¾åº¦æ¤œè¨¼ï¼ˆ0.008758åº¦ã®é«˜ç²¾åº¦ã‚’ç¢ºèªæ¸ˆã¿ï¼‰

### âš™ï¸ ã‚·ã‚¹ãƒ†ãƒ ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- **`test-postgres-connection.js`**: DBæ¥ç¶šãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ãƒ»ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä¸€æ‹¬ç¢ºèª
- **`check-progress.js`**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã®é€²æ—ç›£è¦–

## æŠ€è¡“çš„èƒŒæ™¯

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚»ãƒƒãƒˆã¯ä»¥ä¸‹ã®æŠ€è¡“æˆæœã‚’ç¶­æŒãƒ»é‹ç”¨ã™ã‚‹ãŸã‚ã«é¸åˆ¥ã•ã‚Œã¾ã—ãŸï¼š

- **Geminié«˜ç²¾åº¦è¨ˆç®—å¼**: åœ°çƒæ›²ç‡è£œæ­£ï¼ˆ856mä½ä¸‹ï¼‰+ å¤§æ°—å±ˆæŠ˜è£œæ­£ï¼ˆ111mæŒã¡ä¸Šã’ï¼‰ã«ã‚ˆã‚‹ç†è«–ç²¾åº¦0.008758åº¦
- **PostgreSQL + Prisma**: æœ¬ç•ªé‹ç”¨å¯¾å¿œã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ 
- **3æœˆ10æ—¥17:33è¦³æ¸¬**: å®Ÿæ¸¬å€¤ã¨ã®å®Œå…¨ä¸€è‡´ç¢ºèªæ¸ˆã¿ï¼ˆ0.000160åº¦å·®ï¼‰

## æ•´ç†çµæœ

**96å€‹ â†’ 19å€‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ** ã«å¤§å¹…å‰Šæ¸›ï¼š

- ğŸ—‘ï¸ **å‰Šé™¤å¯¾è±¡**: ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ»ä¸€æ™‚çš„åˆ†æãƒ»æ—§ç‰ˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ»ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ç­‰ï¼ˆ77å€‹å‰Šé™¤ï¼‰
- âœ… **ä¿æŒ**: æœ¬ç•ªé‹ç”¨ãƒ»ã‚·ã‚¹ãƒ†ãƒ ä¿å®ˆãƒ»ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ»ç²¾åº¦æ¤œè¨¼ã«å¿…è¦ä¸å¯æ¬ ãªã‚‚ã®ã®ã¿

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è² è·ã‚’å¤§å¹…ã«è»½æ¸›ã—ã€é‡è¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ€§ã‚’å‘ä¸Šã•ã›ã¾ã—ãŸã€‚